{% set current = request.path %}
<nav
    class="fixed w-full top-0 z-50 backdrop-blur-xl bg-gradient-to-r from-[#0f172a]/90 via-[#1e1b4b]/80 to-[#312e81]/90 border-b border-slate-700 shadow-lg">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
            <!-- Logo -->
            <a href="{{ url_for('index') }}" class="flex items-center space-x-3">
                <img src="https://cdn.aceimg.com/130ac5bff.png" alt="TALENTA-MAP Logo"
                    class="h-36 sm:h-36 w-auto object-contain drop-shadow-[0_0_15px_rgba(99,102,241,0.6)] hover:scale-105 transition-transform duration-300">
            </a>

            <!-- Desktop Menu -->
            <div id="menu" class="hidden md:flex space-x-8">
                {% macro nav_item(url, label) %}
                <a href="{{ url }}" class="relative px-1 py-2 font-medium transition
                    {% if current == url %}
                      text-indigo-400 after:absolute after:bottom-0 after:left-0 after:w-full after:h-[3px] after:bg-gradient-to-r after:from-indigo-500 after:to-purple-500 after:rounded-full
                    {% else %}
                      text-slate-300 hover:text-indigo-400
                    {% endif %}">
                    {{ label }}
                </a>
                {% endmacro %}

                {{ nav_item(url_for('index'), 'Home') }}
                {{ nav_item(url_for('rekomendasi_ai'), 'Rekomendasi AI') }}
                {{ nav_item(url_for('statistik'), 'Statistik') }}
                {{ nav_item(url_for('profil'), 'Profil') }}
            </div>

            <!-- Toggle Button -->
            <button id="menu-toggle"
                class="md:hidden text-slate-300 hover:text-indigo-400 focus:outline-none transition">
                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
        </div>
    </div>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden md:hidden bg-[#1e1b4b]/95 border-t border-slate-700">
        <div class="flex flex-col px-4 py-3 space-y-2">
            {{ nav_item(url_for('index'), 'Home') }}
            {{ nav_item(url_for('rekomendasi_ai'), 'Rekomendasi AI') }}
            {{ nav_item(url_for('statistik'), 'Statistik') }}
            {{ nav_item(url_for('profil'), 'Profil') }}
        </div>
    </div>
</nav>